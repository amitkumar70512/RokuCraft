"use strict";(self.webpackChunktypescript_react_project_roku_craft=self.webpackChunktypescript_react_project_roku_craft||[]).push([[669],{50757:(t,e,n)=>{n.d(e,{A9:()=>o.A,_x:()=>a._,di:()=>o.d});var o=n(63973),a=n(14655)},14655:(t,e,n)=>{n.d(e,{_:()=>u});var o=n(7350),a=n.n(o),r=n(84684),i=n.n(r),s=n(71510),l=n(66557),c=n(94590),d=n(96540);const u=new class{getDimension(t){const{horizontal:e,selectionDimension:n}=t;return e&&n?"x"===n?"y":"x":n}getDatasets(t){return t.data?[{data:t.data}]:l.reduceChildren(d.Children.toArray(t.children),((e,n,o)=>{const a=t.selectionBlacklist||[];let r;if(!s.isDataComponent(e)||a.includes(n))return null;if(e.type&&l.isFunction(e.type.getData)){r=o?d.cloneElement(e,o.props):e;const t=r.props&&r.type.getData(r.props);return t?{childName:n,data:t}:null}const i=(t=>{const e=s.getData(t);return Array.isArray(e)&&e.length>0?e:void 0})(r.props);return i?{childName:n,data:i}:null}),t)}filterDatasets(t,e){const n=e.reduce(((e,n)=>{const o=this.getSelectedData(t,n.data);return o?e.concat({childName:n.childName,eventKey:o.eventKey,data:o.data}):e}),[]);return n.length?n:null}getSelectedData(t,e){const{x1:n,y1:o,x2:a,y2:r}=t,i=e=>{const i=l.scalePoint(t,e);return i.x>=Math.min(n,a)&&i.x<=Math.max(n,a)&&i.y>=Math.min(o,r)&&i.y<=Math.max(o,r)},s=[],c=[];let d=0;for(let t=0,n=e.length;t<n;t++){const n=e[t];i(n)&&(c[d]=n,s[d]=void 0===n.eventKey?t:n.eventKey,d++)}return d>0?{eventKey:s,data:c}:null}onMouseDown=(t,e)=>{t.preventDefault();const{activateSelectedData:n,allowSelection:o,polar:a,selectedData:r}=e;if(!o)return{};const s=this.getDimension(e),d=e.parentSVG||c.getParentSVG(t),{x:u,y:p}=c.getSVGEventCoordinates(t,d),h={x1:a||"y"!==s?u:c.getDomainCoordinates(e).x[0],y1:a||"x"!==s?p:c.getDomainCoordinates(e).y[0],select:!0,x2:a||"y"!==s?u:c.getDomainCoordinates(e).x[1],y2:a||"x"!==s?p:c.getDomainCoordinates(e).y[1],parentSVG:d};r&&l.isFunction(e.onSelectionCleared)&&e.onSelectionCleared(i()({},h,e));const y=[{target:"parent",mutation:()=>h}],g=r&&n?r.map((t=>({childName:t.childName,eventKey:t.eventKey,target:"data",mutation:()=>null}))):[];return y.concat(...g)};handleMouseMove=(t,e)=>{const{allowSelection:n,select:o,polar:a}=e,r=this.getDimension(e);if(!n||!o)return null;const i=e.parentSVG||c.getParentSVG(t),{x:s,y:l}=c.getSVGEventCoordinates(t,i),d=a||"y"!==r?s:c.getDomainCoordinates(e).x[1],u=a||"x"!==r?l:c.getDomainCoordinates(e).y[1];return{target:"parent",mutation:()=>({x2:d,y2:u,parentSVG:i})}};onMouseMove=a()(this.handleMouseMove,16,{leading:!0,trailing:!1});onMouseUp=(t,e)=>{const{activateSelectedData:n,allowSelection:o,x2:a,y2:r}=e;if(!o)return null;if(!a||!r)return[{target:"parent",mutation:()=>({select:!1,x1:null,x2:null,y1:null,y2:null})}];const s=this.getDatasets(e),d=c.getBounds(e),u=this.filterDatasets(e,s),p={selectedData:u,datasets:s,select:!1,x1:null,x2:null,y1:null,y2:null},h=u&&l.isFunction(e.onSelection)?e.onSelection(u,d,i()({},p,e)):{},y=[{target:"parent",mutation:()=>p}],g=u&&n?u.map((t=>({childName:t.childName,eventKey:t.eventKey,target:"data",mutation:()=>Object.assign({active:!0},h)}))):[];return y.concat(g)}}},63973:(t,e,n)=>{n.d(e,{A:()=>l,d:()=>s});var o=n(96540),a=n(47111),r=n(42642),i=n(14655);function s(t){return class extends t{static displayName="VictorySelectionContainer";static defaultProps={...a._.defaultProps,activateSelectedData:!0,allowSelection:!0,selectionComponent:o.createElement(r.r,null),selectionStyle:{stroke:"transparent",fill:"black",fillOpacity:.1}};static defaultEvents(t){return[{target:"parent",eventHandlers:{onMouseDown:(e,n)=>t.disable?{}:i._.onMouseDown(e,n),onTouchStart:(e,n)=>t.disable?{}:i._.onMouseDown(e,n),onMouseMove:(e,n)=>t.disable?{}:i._.onMouseMove(e,n),onTouchMove:(e,n)=>t.disable?{}:i._.onMouseMove(e,n),onMouseUp:(e,n)=>t.disable?{}:i._.onMouseUp(e,n),onTouchEnd:(e,n)=>t.disable?{}:i._.onMouseUp(e,n)}}]}getRect(t){const{x1:e,x2:n,y1:a,y2:r,selectionStyle:i,selectionComponent:s,name:l}=t,c=Math.abs(n-e)||1,d=Math.abs(r-a)||1,u=Math.min(e,n),p=Math.min(a,r);return r&&n&&e&&a?o.cloneElement(s,{key:`${l}-selection`,x:u,y:p,width:c,height:d,style:i}):null}getChildren(t){return[...o.Children.toArray(t.children),this.getRect(t)]}}}const l=s(a._)},1510:(t,e,n)=>{n.d(e,{P:()=>o.P});var o=n(58272)},58272:(t,e,n)=>{n.d(e,{P:()=>f});var o=n(44377),a=n.n(o),r=n(62193),i=n.n(r),s=n(84684),l=n.n(s),c=n(96540),d=n(17003),u=n(47827),p=n(79586),h=n(66557),y=n(30115),g=n.n(y),m=n(44106),v=n.n(m);class f extends c.Component{static displayName="VictorySharedEvents";static role="shared-event-wrapper";static contextType=d.A;static defaultProps={groupComponent:c.createElement("g",null)};constructor(t){super(t),this.getScopedEvents=u.getScopedEvents.bind(this),this.getEventState=u.getEventState.bind(this),this.state=this.state||{},this.sharedEventsCache={},this.globalEvents={},this.prevGlobalEventKeys=[],this.boundGlobalEvents={},this.baseProps=this.getBaseProps(t)}shouldComponentUpdate(t){if(!g()(this.props,t)){this.baseProps=this.getBaseProps(t);const e=this.getExternalMutations(t,this.baseProps);this.applyExternalMutations(t,e)}return!0}componentDidMount(){const t=Object.keys(this.globalEvents);t.forEach((t=>this.addGlobalListener(t))),this.prevGlobalEventKeys=t}componentDidUpdate(){const t=Object.keys(this.globalEvents);p.difference(this.prevGlobalEventKeys,t).forEach((t=>this.removeGlobalListener(t))),p.difference(t,this.prevGlobalEventKeys).forEach((t=>this.addGlobalListener(t))),this.prevGlobalEventKeys=t}componentWillUnmount(){this.prevGlobalEventKeys.forEach((t=>this.removeGlobalListener(t)))}addGlobalListener(t){const e=e=>{const n=this.globalEvents[t];return n&&n(u.emulateReactEvent(e))};this.boundGlobalEvents[t]=e,window.addEventListener(u.getGlobalEventNameFromKey(t),e)}removeGlobalListener(t){window.removeEventListener(u.getGlobalEventNameFromKey(t),this.boundGlobalEvents[t])}getAllEvents(t){const e=u.getComponentEvents(t,["container","groupComponent"]);return Array.isArray(e)?Array.isArray(t.events)?e.concat(...t.events):e:t.events}applyExternalMutations(t,e){if(!i()(e)){const n=t.externalEventMutations.reduce(((t,e)=>h.isFunction(e.callback)?t.concat(e.callback):t),[]),o=n.length?()=>{n.forEach((t=>t()))}:void 0;this.setState(e,o)}}getExternalMutations(t,e){return i()(t.externalEventMutations)?void 0:u.getExternalMutationsWithChildren(t.externalEventMutations,e,this.state,Object.keys(e))}cacheSharedEvents(t,e,n){this.sharedEventsCache[t]=[e,n]}getCachedSharedEvents(t,e){const[n,o]=this.sharedEventsCache[t]||[];if(n&&g()(e,o))return n}getBaseProps(t){const{container:e}=t,n=c.Children.toArray(this.props.children),o=this.getBasePropsFromChildren(n),a=e?e.props:{};return Object.assign({},o,{parent:a})}getBasePropsFromChildren(t){const e=h.reduceChildren(t,((t,e)=>{if(t.type&&h.isFunction(t.type.getBaseProps)){const n=t.props&&t.type.getBaseProps(t.props);return n?[[e,n]]:null}return null}));return a()(e)}getNewChildren(t,e){const{events:n,eventKey:o}=t,a=(t,r)=>t.reduce(((t,i,s)=>{if(i.props.children){const e=c.Children.toArray(i.props.children),n=r.slice(s,s+e.length),o=c.cloneElement(i,i.props,a(e,n));return t.concat(o)}if("parent"!==r[s]&&i.type&&h.isFunction(i.type.getBaseProps)){const a=i.props.name||r[s],l=Array.isArray(n)&&n.filter((t=>"parent"!==t.target&&(Array.isArray(t.childName)?t.childName.indexOf(a)>-1:t.childName===a||"all"===t.childName))),d=[a,e,l,v()(this.state[a])],u=this.getCachedSharedEvents(a,d)||{events:l,getEvents:(t,n)=>this.getScopedEvents(t,n,a,e),getEventState:(t,e)=>this.getEventState(t,e,a)};return this.cacheSharedEvents(a,u,d),t.concat(c.cloneElement(i,Object.assign({key:`events-${a}`,sharedEvents:u,eventKey:o,name:a},i.props)))}return t.concat(i)}),[]),r=Object.keys(e),i=c.Children.toArray(t.children);return a(i,r)}getContainer(t,e,n){const o=this.getNewChildren(t,e),a=Array.isArray(n)?n.filter((t=>"parent"===t.target)):[],r=a.length>0?{events:a,getEvents:(t,n)=>this.getScopedEvents(t,n,null,e),getEventState:this.getEventState}:null,i=t.container||t.groupComponent,s=i.type&&i.type.role,d=i.props||{},p=u.getEvents.bind(this),h=r&&p({sharedEvents:r},"parent"),y=l()({},this.getEventState("parent","parent"),d,e.parent,{children:o}),g=l()({},u.getPartialEvents(h,"parent",y),d.events);this.globalEvents=u.getGlobalEvents(g);const m=u.omitGlobalEvents(g);return"container"===s?c.cloneElement(i,Object.assign({},y,{events:m})):c.cloneElement(i,m,o)}render(){const t=this.getAllEvents(this.props);return t?this.getContainer(this.props,this.baseProps,t):c.cloneElement(this.props.container,{children:this.props.children})}}},66785:(t,e,n)=>{n.d(e,{X:()=>w});var o=n(62193),a=n.n(o),r=n(84684),i=n.n(r),s=n(96540),l=n(47111),c=n(25882),d=n(19131),u=n(66557),p=n(11490),h=n(12595),y=n(61967),g=n(58272),m=n(42877),v=n.n(m),f=n(21282),x=n(30115),b=n.n(x);const E={width:450,height:300,padding:50};function S(t,e){const n=h.getDataFromChildren(t,e).map((t=>t.filter((t=>null!==t._x&&null!==t._y)))),o=function(t,e){const{fillInMissingData:n}=t,o=e.reduce(((t,e)=>(e.forEach((e=>{t[e._x instanceof Date?e._x.getTime():e._x]=!0})),t)),{}),a=Object.keys(o).map((t=>Number(t))),r=v()(a);return e.map((t=>{let e=0;const o=t[0]&&t[0]._x instanceof Date;return r.map(((a,r)=>{let i=Number(a);const s=t[r-e];if(s){if((o?s._x.getTime():s._x)===i)return s;e++;const t=n?0:null;return i=o?new Date(i):i,{x:i,y:t,_x:i,_y:t}}const l=n?0:null;return i=o?new Date(i):i,{x:i,y:l,_x:i,_y:l}}))}))}(t,n);return o.map(((e,n)=>function(t,e,n){const o=t.xOffset||0;return e[n].map((t=>{const a=function(t,e,n){if(t.y0)return t.y0;const o=t._y,a=t._group,r=n[0].map((t=>t.y0)),i=n.slice(0,e).reduce(((e,n)=>e.concat(n.filter((e=>t._x instanceof Date?e._x.getTime()===t._x.getTime():e._x===t._x)).map((t=>t._y||0)))),[]),s=i.length&&i.reduce(((t,e)=>o<0&&e<0||o>=0&&e>=0?Number(e)+t:t),r[a]||0);return i.some((t=>t instanceof Date))?new Date(s):s}(t,n,e)||0;return Object.assign({},t,{_y0:t._y instanceof Date?a?new Date(a):t._y:a,_y1:null===t._y?null:t._y instanceof Date?new Date(Number(t._y)+Number(a)):t._y+a,_x1:null===t._x?null:t._x instanceof Date?new Date(Number(t._x)+Number(o)):t._x+o})}))}(t,o,n)))}function P(t,e){const n=e||s.Children.toArray(t.children),o="stack",a=u.modifyProps(t,E,o),r=h.getStyle(a.theme,a.style,o),i=a.categories||h.getCategories(a,n),l=a.datasets||S(a,n),c=n.map(((t,e)=>s.cloneElement(t,{data:l[e]}))),d={x:h.getDomain(Object.assign({},a,{categories:i}),"x",c),y:h.getDomain(Object.assign({},a,{categories:i}),"y",c)},p=a.range||{x:u.getRange(a,"x"),y:u.getRange(a,"y")},y={x:f.getScaleFromProps(a,"x")||h.getScale(a,"x"),y:f.getScaleFromProps(a,"y")||h.getScale(a,"y")},g={x:y.x.domain(d.x).range(a.horizontal?p.y:p.x),y:y.y.domain(d.y).range(a.horizontal?p.x:p.y)},{colorScale:m,horizontal:v}=a;return{datasets:l,categories:i,range:p,domain:d,horizontal:v,scale:g,style:r,colorScale:m,role:o}}function C(t,e){const n=e.type&&e.type.role,o=e.props.colorScale||t.colorScale;if("group"===n||"stack"===n)return t.theme?o||t.theme.props.colorScale:o}function $(t,e,n){const o=u.modifyProps(t,E,"stack"),a=e||s.Children.toArray(o.children),r=n||P(o,a),{datasets:i}=r,l=function(t,e){const{categories:n,domain:o,range:a,scale:r,horizontal:i}=e;return{height:t.height,width:t.width,padding:u.getPadding(t),standalone:!1,theme:t.theme,categories:n,domain:o,range:a,scale:r,horizontal:i}}(o,r),c=o.name||"stack";return a.map(((t,e)=>{const n=t.type&&t.type.role,a=i[e],d=h.getChildStyle(t,e,r),u=o.labels?function(t,e,n){if(t.labels)return e.length===n+1?t.labels:void 0}(o,i,e):t.props.labels,p=t.props.name||`${c}-${n}-${e}`;return s.cloneElement(t,Object.assign({key:`${p}-key-${e}`,labels:u,name:p,domainPadding:t.props.domainPadding||o.domainPadding,theme:o.theme,labelComponent:o.labelComponent||t.props.labelComponent,style:d,colorScale:C(o,t),data:a,polar:o.polar},l))}))}const D={width:450,height:300,padding:50},M={containerComponent:s.createElement(l._,null),groupComponent:s.createElement("g",null),standalone:!0,theme:c.g.grayscale,fillInMissingData:!0},A=t=>{const{role:e}=w,n=s.useMemo((()=>i()({},t,M)),[t]),{setAnimationState:o,getAnimationProps:r,getProps:l}=d.v(),c=l(n),m=u.modifyProps(c,D,e),{eventKey:v,containerComponent:f,standalone:x,groupComponent:E,externalEventMutations:S,width:C,height:A,theme:_,polar:O,horizontal:L,name:N}=m,k=s.Children.toArray(m.children),G=function(t){const e=(t=>{const{children:e}=t,n=s.Children.toArray(e).map((t=>{const e=t;return{...e,props:u.omit(e.props,["sharedEvents"])}}));return t.children=n,t})(t),[n,o]=s.useState(e);return s.useEffect((()=>{b()(e,n)||o(e)}),[n,o,e]),s.useMemo((()=>P(n,n.children)),[n])}(m),{domain:j,scale:F,style:K}=G,T=s.useMemo((()=>$(c,k,G).map(((t,e)=>{const n=Object.assign({animate:r(c,t,e)},t.props);return s.cloneElement(t,n)})).reverse()),[c,k,G,r]),R=s.useMemo((()=>x?{domain:j,scale:F,width:C,height:A,standalone:x,theme:_,style:K.parent,horizontal:L,polar:O,name:N}:{}),[x,j,F,C,A,_,K,L,O,N]),W=s.useMemo((()=>p.getSafeUserProps(n)),[n]),V=s.useMemo((()=>{if(x){const t=i()({},f.props,R,W);return s.cloneElement(f,t)}return s.cloneElement(E,W)}),[E,x,f,R,W]),z=s.useMemo((()=>h.getAllEvents(c)),[c]),B=y.P(n);return s.useEffect((()=>()=>{n.animate&&o(B,n)}),[o,B,n]),a()(z)?s.cloneElement(V,V.props,T):s.createElement(g.P,{container:V,eventKey:v,events:z,externalEventMutations:S},T)},_={role:"stack",expectedComponents:["groupComponent","containerComponent","labelComponent"],getChildren:$},w=Object.assign(s.memo(A,b()),_);w.displayName="VictoryStack"},62433:(t,e,n)=>{n.d(e,{m:()=>u});var o=n(84684),a=n.n(o),r=n(96540),i=n(66557),s=n(80519),l=n(11490);const c=t=>{const e=t.orientation||"top";return"left"===e||"right"===e?(t=>{const{pointerWidth:e,cornerRadius:n,orientation:o,width:a,height:r,center:i}=t,s="left"===o?1:-1,l=t.x+(t.dx||0),c=t.y+(t.dy||0),d=i.x,u=i.y,p=d-s*(a/2),h=d+s*(a/2),y=u+r/2,g=u-r/2,m=s*(l-p)>0?0:t.pointerLength,v=`${n} ${n} ${"left"===o?"0 0 0":"0 0 1"}`;return`M ${p}, ${u-e/2}\n    L ${m?l:p}, ${m?c:u+e/2}\n    L ${p}, ${u+e/2}\n    L ${p}, ${y-n}\n    A ${v} ${p+s*n}, ${y}\n    L ${h-s*n}, ${y}\n    A ${v} ${h}, ${y-n}\n    L ${h}, ${g+n}\n    A ${v} ${h-s*n}, ${g}\n    L ${p+s*n}, ${g}\n    A ${v} ${p}, ${g+n}\n    z`})(t):(t=>{const{pointerWidth:e,cornerRadius:n,orientation:o,width:a,height:r,center:i}=t,s="bottom"===o?1:-1,l=t.x+(t.dx||0),c=t.y+(t.dy||0),d=i.x,u=i.y,p=u+s*(r/2),h=u-s*(r/2),y=d+a/2,g=d-a/2,m=s*(c-p)<0?0:t.pointerLength,v=`${n} ${n} ${"bottom"===o?"0 0 0":"0 0 1"}`;return`M ${d-e/2}, ${p}\n    L ${m?l:d+e/2}, ${m?c:p}\n    L ${d+e/2}, ${p}\n    L ${y-n}, ${p}\n    A ${v} ${y}, ${p-s*n}\n    L ${y}, ${h+s*n}\n    A ${v} ${y-n}, ${h}\n    L ${g+n}, ${h}\n    A ${v} ${g}, ${h+s*n}\n    L ${g}, ${p-s*n}\n    A ${v} ${g+n}, ${p}\n    z`})(t)},d={pathComponent:r.createElement(s.w,null),role:"presentation",shapeRendering:"auto"},u=t=>{const e=(t=>{const e=i.evaluateProp(t.id,t),n=i.evaluateStyle(t.style,t);return{...t,id:e,style:n}})(a()({},t,d)),n=l.getSafeUserProps(e);l.assert(e.height,"Flyout props[height] is undefined"),l.assert(e.width,"Flyout props[width] is undefined"),l.assert(e.x,"Flyout props[x] is undefined"),l.assert(e.y,"Flyout props[y] is undefined");const o={center:e.center||{x:0,y:0},cornerRadius:e.cornerRadius||0,dx:e.dx,dy:e.dy,height:e.height,orientation:e.orientation||"top",pointerLength:e.pointerLength||0,pointerWidth:e.pointerWidth||0,width:e.width,x:e.x,y:e.y};return r.cloneElement(e.pathComponent,{...e.events,...n,style:e.style,d:c(o),className:e.className,shapeRendering:e.shapeRendering,role:e.role,transform:e.transform,clipPath:e.clipPath})}},3752:(t,e,n)=>{n.d(e,{A:()=>o.A,m:()=>a.m});var o=n(74480),a=n(62433)},74480:(t,e,n)=>{n.d(e,{A:()=>b});var o=n(42877),a=n.n(o),r=n(11331),i=n.n(r),s=n(97200),l=n.n(s),c=n(84684),d=n.n(c),u=n(96540),p=n(53839),h=n(63938),y=n(25882),g=n(66557),m=n(73308),v=n(8815),f=n(62433);const x={cornerRadius:5,pointerLength:10,pointerWidth:10};class b extends u.Component{static displayName="VictoryTooltip";static role="tooltip";static defaultProps={active:!1,renderInPortal:!0,labelComponent:u.createElement(p.R,null),flyoutComponent:u.createElement(f.m,null),groupComponent:u.createElement("g",null)};static defaultEvents(t){const e=t.activateData?[{target:"labels",mutation:()=>({active:!0})},{target:"data",mutation:()=>({active:!0})}]:[{target:"labels",mutation:()=>({active:!0})}],n=t.activateData?[{target:"labels",mutation:()=>({active:void 0})},{target:"data",mutation:()=>({active:void 0})}]:[{target:"labels",mutation:()=>({active:void 0})}];return[{target:"data",eventHandlers:{onMouseOver:()=>e,onFocus:()=>e,onTouchStart:()=>e,onMouseOut:()=>n,onBlur:()=>n,onTouchEnd:()=>n}}]}constructor(t){super(t),this.id=void 0===t.id?l()("tooltip-"):t.id}getDefaultOrientation(t){const{datum:e,horizontal:n,polar:o}=t;if(!o){const t=n?"right":"top",o=n?"left":"bottom";return e&&e.y<0?o:t}return this.getPolarOrientation(t)}getPolarOrientation(t){const e=h.getDegrees(t,t.datum),n=t.labelPlacement||"vertical";return"vertical"===n?this.getVerticalOrientations(e):"parallel"===n?e<90||e>270?"right":"left":e>180?"bottom":"top"}getVerticalOrientations(t){return t<45||t>315?"right":t>=45&&t<=135?"top":t>135&&t<225?"left":"bottom"}getStyles(t){const e=t.theme||y.g.grayscale,n=e&&e.tooltip&&e.tooltip.style?e.tooltip.style:{},o=Array.isArray(t.style)?t.style.map((t=>d()({},t,n))):d()({},t.style,n),a=e&&e.tooltip&&e.tooltip.flyoutStyle?e.tooltip.flyoutStyle:{},r=t.flyoutStyle?d()({},t.flyoutStyle,a):a,i=Array.isArray(o)?o.map((e=>g.evaluateStyle(e,t))):g.evaluateStyle(o,t);return{style:i,flyoutStyle:g.evaluateStyle(r,Object.assign({},t,{style:i}))}}getEvaluatedProps(t){const{cornerRadius:e,centerOffset:n,dx:o,dy:a}=t,r=g.evaluateProp(t.active,t);let s=g.evaluateProp(t.text,Object.assign({},t,{active:r}));null==s&&(s=""),"number"==typeof s&&(s=s.toString());const{style:l,flyoutStyle:c}=this.getStyles(Object.assign({},t,{active:r,text:s})),d=g.evaluateProp(t.orientation,Object.assign({},t,{active:r,text:s,style:l,flyoutStyle:c}))||this.getDefaultOrientation(t),u=g.evaluateProp(t.flyoutPadding,Object.assign({},t,{active:r,text:s,style:l,flyoutStyle:c,orientation:d}))||this.getLabelPadding(l),p=g.getPadding({padding:u}),h=g.evaluateProp(t.pointerWidth,Object.assign({},t,{active:r,text:s,style:l,flyoutStyle:c,orientation:d})),y=g.evaluateProp(t.pointerLength,Object.assign({},t,{active:r,text:s,style:l,flyoutStyle:c,orientation:d})),v=m.approximateTextSize(s,l),{flyoutHeight:f,flyoutWidth:x}=this.getDimensions(Object.assign({},t,{style:l,flyoutStyle:c,active:r,text:s,orientation:d,flyoutPadding:p,pointerWidth:h,pointerLength:y}),v),b=Object.assign({},t,{active:r,text:s,style:l,flyoutStyle:c,orientation:d,flyoutHeight:f,flyoutWidth:x,flyoutPadding:p,pointerWidth:h,pointerLength:y}),E=i()(n)&&void 0!==n?.x?g.evaluateProp(n.x,b):0,S=i()(n)&&void 0!==n?.y?g.evaluateProp(n.y,b):0;return{...b,centerOffset:{x:E,y:S},dx:void 0!==o?g.evaluateProp(o,b):0,dy:void 0!==a?g.evaluateProp(a,b):0,cornerRadius:g.evaluateProp(e,b)}}getCalculatedValues(t){const{style:e,text:n,flyoutStyle:o,flyoutHeight:a,flyoutWidth:r}=t,i={height:a,width:r};return{style:e,flyoutStyle:o,labelSize:m.approximateTextSize(n,e),flyoutDimensions:i,flyoutCenter:this.getFlyoutCenter(t,i),transform:this.getTransform(t)}}getTransform(t){const{x:e,y:n,style:o}=t,a=(o||{}).angle||t.angle||this.getDefaultAngle(t);return a?`rotate(${a} ${e} ${n})`:void 0}getDefaultAngle(t){const{polar:e,labelPlacement:n,orientation:o,datum:a}=t;if(!e||!n||"vertical"===n)return 0;const r=h.getDegrees(t,a);let i=0;return 0===r||180===r?i="top"===o&&180===r?270:90:r>0&&r<180?i=90-r:r>180&&r<360&&(i=270-r),i+(r>90&&r<180||r>270?1:-1)*("perpendicular"===n?0:90)}constrainTooltip(t,e,n){const{x:o,y:a}=t,{width:r,height:i}=n,s=[0,e.width],l=[0,e.height],c=[o-r/2,o+r/2],d=[a-i/2,a+i/2],u=[c[0]<s[0]?s[0]-c[0]:0,c[1]>s[1]?c[1]-s[1]:0],p=[d[0]<l[0]?l[0]-d[0]:0,d[1]>l[1]?d[1]-l[1]:0];return{x:Math.round(o+u[0]-u[1]),y:Math.round(a+p[0]-p[1])}}getFlyoutCenter(t,e){const{x:n,y:o,dx:a,dy:r,pointerLength:s,orientation:l,constrainToVisibleArea:c,centerOffset:d}=t,{height:u,width:p}=e,h="left"===l?-1:1,y="bottom"===l?-1:1,g={x:"left"===l||"right"===l?n+h*(s+p/2+h*a):n+a,y:"top"===l||"bottom"===l?o-y*(s+u/2-y*r):o+r},m=i()(t.center)&&void 0!==t.center.x?t.center.x:g.x,v=i()(t.center)&&void 0!==t.center.y?t.center.y:g.y,f={x:m+d.x,y:v+d.y};return c?this.constrainTooltip(f,t,e):f}getLabelPadding(t){if(!t)return 0;const e=Array.isArray(t)?t.map((t=>t.padding)):[t.padding];return Math.max(...e,0)}getDimensions(t,e){const{orientation:n,pointerLength:o,pointerWidth:a,flyoutHeight:r,flyoutWidth:i,flyoutPadding:s}=t,l=g.evaluateProp(t.cornerRadius,t);return{flyoutHeight:r?g.evaluateProp(r,t):(()=>{const t=e.height+s.top+s.bottom,o="top"===n||"bottom"===n?2*l:2*l+a;return Math.max(o,t)})(),flyoutWidth:i?g.evaluateProp(i,t):(()=>{const t=e.width+s.left+s.right,a="left"===n||"right"===n?2*l+o:2*l;return Math.max(a,t)})()}}getLabelProps(t,e){const{flyoutCenter:n,style:o,labelSize:a,dy:r=0,dx:i=0}=e,{text:s,datum:l,activePoints:c,labelComponent:u,index:p,flyoutPadding:h}=t,y=(Array.isArray(o)&&o.length?o[0].textAnchor:o.textAnchor)||"middle";return d()({},u.props,{key:`${this.id}-label-${p}`,text:s,datum:l,activePoints:c,textAnchor:y,dy:r,dx:i,style:o,x:(()=>{if(!y||"middle"===y)return n.x;const t="end"===y?-1:1;return n.x-t*(a.width/2)})()+(h.left-h.right)/2,y:n.y+(h.top-h.bottom)/2,verticalAnchor:"middle",angle:o.angle})}getPointerOrientation(t,e,n){const o=e.y+n.height/2,r=e.y-n.height/2,i=e.x-n.width/2,s=e.x+n.width/2,l=[{side:"top",val:r>t.y?r-t.y:-1},{side:"bottom",val:o<t.y?t.y-o:-1},{side:"right",val:s<t.x?t.x-s:-1},{side:"left",val:i>t.x?i-t.x:-1}];return a()(l,"val","desc")[0].side}getFlyoutProps(t,e){const{flyoutDimensions:n,flyoutStyle:o,flyoutCenter:a}=e,{x:r,y:i,dx:s,dy:l,datum:c,activePoints:u,index:p,pointerLength:h,pointerWidth:y,cornerRadius:m,events:v,flyoutComponent:f}=t,x=g.evaluateProp(t.pointerOrientation,t);return d()({},f.props,{x:r,y:i,dx:s,dy:l,datum:c,activePoints:u,index:p,pointerLength:h,pointerWidth:y,cornerRadius:m,events:v,orientation:x||this.getPointerOrientation({x:r,y:i},a,n),key:`${this.id}-tooltip-${p}`,width:n.width,height:n.height,style:o,center:a})}renderTooltip(t){const e=g.evaluateProp(t.active,t),{renderInPortal:n}=t;if(!e)return n?u.createElement(v.D,null):null;const o=this.getEvaluatedProps(t),{flyoutComponent:a,labelComponent:r,groupComponent:i}=o,s=this.getCalculatedValues(o),l=[u.cloneElement(a,this.getFlyoutProps(o,s)),u.cloneElement(r,this.getLabelProps(o,s))],c=u.cloneElement(i,{role:"presentation",transform:s.transform},l);return n?u.createElement(v.D,null,c):c}render(){const t=g.modifyProps(this.props,x,"tooltip");return this.renderTooltip(t)}}}}]);